#!/bin/bash

JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64/
CLASSPATH=target/classes
STDOUT=logs/stdout.log
STDERR=logs/stderr.log

for i in lib/*.jar
do
	CLASSPATH="$i:$CLASSPATH"
done
CLASSPATH=examples/:$CLASSPATH

start() {
	jsvc -home $JAVA_HOME -cp $CLASSPATH -outfile $STDOUT -errfile $STDERR org.oc.orchestra.client.Client 
	exit 0
}

stop() {
	jsvc -home $JAVA_HOME -cp $CLASSPATH -outfile $STDOUT -errfile $STDERR -stop org.oc.orchestra.client.Client 
	exit 0
}

restart() {
	jsvc -home $JAVA_HOME -cp $CLASSPATH -outfile $STDOUT -errfile $STDERR -stop org.oc.orchestra.client.Client 
	start
}

case $1 in
start-daemons) start;;
stop-daemons) stop;;
restart-daemons) restart;;
esac
java -cp $CLASSPATH org.oc.orchestra.client.Client "$@"


